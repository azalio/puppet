#!/usr/bin/env bash
# Application tasks

# Load environment
# shellcheck disable=1090
. "$(cd "$(dirname "${BASH_SOURCE[0]}")/../" && pwd -P)/env.sh"

# Process arguments
case "${1:-}" in
  upload)
    package_app_files && upload_app_archive && clean_app
    ;;
  upload-private)
    upload_private_data
    ;;
  download-private)
    download_private_data
    ;;
  update)
    update_app
    ;;
  *)
    e_abort "USAGE: ${BASH_SOURCE[0]} [upload | upload-private | download | update]"
    ;;
esac
